}
get_data <- function() {
# run to fetch & clean all the data
# ______________________________ South African Data ______________________________
# provincial data
province <- c('Western Cape','Eastern Cape','Northern Cape', 'Free State', 'KwaZulu-Natal', 'North West',
'Gauteng', 'Mpumalanga', 'Limpopo')
population <- c(6621103, 6522734, 1225555, 2954348, 11384722, 3978955, 14717040, 4523874, 5797275)
population_2 <- paste(round(population/1000000, 2), 'm', sep='')
density <- c(51.1, 38.6, 3.3, 22.8, 120.7, 37.9, 809.6, 59.1, 46.1)
provincial.data <- data.frame(province, population, population_2, density, stringsAsFactors=FALSE)
# --- Add later ---               # Gender & Age demographics
Age <- c('0-9', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80+')
Male <- c('5 292 766','4 842 847','5 237 328','3 754 553','2 598 068','1 823 299','1 013 912','458 781','176 237')
Female <- c('5 212 437', '4 755 516', '5 196 531', '2 751 224', '2 970 834', '2 192 398', '1 329 660', '770 816', '402 352')
total <- c('10 505 203','9 598 363','10 433 859','6 505 777','5 568 902','4 015 697','2 343 572','1 229 597','419 989' )
age.data <- data.frame(Age, Male, Female,total, stringsAsFactors=FALSE)
# --- Add later ---
# Get South African Covid Data
covid_sa_url <- 'https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_South_Africa'
covid_sa <<- read_html(covid_sa_url) %>% html_node(xpath='//*[@id="mw-content-text"]/div/table[3]') %>% html_table(fill=T)
# geospatial data
south_africa <<- readShapeSpatial('data/gadm36_ZAF_shp/gadm36_ZAF_1.shp')
south_africa <<- rgdal::readOGR('data/gadm36_ZAF_shp/gadm36_ZAF_1.shp')
# ______________________________ South African Data ______________________________
# _________________________________ Concatenate Data _________________________________
# Extract number of cases
test <- t(covid_sa[covid_sa$Day=='Cases',3:11])
test <- data.frame(test[1:nrow(test),])
colnames(test) <- 'Cases'
test$Cases <- as.numeric(as.character(test$Cases))
# add to dataframe
south_africa@data <<- cbind(test, south_africa@data)
# province data
south_africa@data <<- merge(south_africa@data, provincial.data, by.x='NAME_1', by.y='province')
# _________________________________ Concatenate Data _________________________________
# _________________________________ Global Data _________________________________
# global case data
n_cases <<- load_nCov2019(lang='en')
# median population data
med_age <<- read.csv('data/median-age.csv')
# clean
med_age <<- group_by(med_age, Entity) %>% filter(Year==2020) %>%
transmute(name=factor(Entity),
code=Code,
country=Entity,
median_age=UN.Population.Division..Median.Age...2017...years.)
# Global Population Data
global_population <<- read.csv('./data/global_population.csv')
# _________________________________ Global Data _________________________________
# _________________________________ World Map Data _________________________________
data("World")
# clean case data
case_data <- n_cases$global %>% group_by(country) %>%
summarise(cases=max(cum_confirm),
cum_heal=max(cum_heal),
cum_dead=max(cum_dead)) %>%
mutate(name=factor(country))
world <- merge(World, case_data, by='name')                            # merge case data
world <<- merge(world, med_age, by='name')                             # merge median age data
world <<- merge(world, global_population, by='name', all.x=TRUE)       # add global population data
}
configure_workspace()
get_data()
south_africa
tmap_leaflet(
tm_shape(south_africa) +
tm_layout(title='Confirmed Cases in SA') +
tm_borders(alpha=0.3) +
tm_fill('Cases', title='Confirmed Cases', palette=c(RColorBrewer::brewer.pal(10, 'OrRd')[3:7]),
breaks=c(0,10,20,50,100,200),
popup.vars=c('cases'="Cases", "population_2", 'pop density'="density")))
?ds.getSymbol.yahoo
??ds.getSymbol.yahoo
??ds
??getSymbol.yahoo
install.packages('quantmod')
library('quantmod')
library('quantmod')
data('speed')
getSymbols.yahoo(Symbols='^GSPC')
sp500 <- getSymbols.yahoo(Symbols='^GSPC')
getSymbols.yahoo
sp500 <- getSymbols.yahoo(Symbols='^GSPC', data.frame)
?getSymbols.yahoo
getSymbols('^GSPC',src='yahoo')
sp500 <- getSymbols('^GSPC',src='yahoo')
sp500
sp500 <- getSymbols('GSPC',src='yahoo')
sp500
?getSymbols
install.packages('Quandl')
getSymbols('AAPL')
getSymbols('AAPL', Sys.Date()-100, Sys.Date())
?getSymbols
AAPL
getSymbols('^GSPC', Sys.Date()-100, Sys.Date())
getSymbols('^GSPC', start=Sys.Date()-100, end=Sys.Date())
GSPC
Sys.Date()
GSPC
index(GSPC)
max(index(GSPC))
?tseries
??tseries
world_data
world
world
m_shape(world) +
tm_layout(title='Understand the World') +
tm_borders(alpha=0.3) +
tm_fill('cases', title='Cases', palette=c(RColorBrewer::brewer.pal(10,'Blues')[5:9]),
breaks=c(0,50,100,200,500,1000,5000,10000,100000),
popup.vars=c('cases', 'cured'='cum_heal', 'fatalities'='cum_dead', 'median age'='median_age', 'population'='pop_char'))
tm_shape(world) +
tm_layout(title='Understand the World') +
tm_borders(alpha=0.3) +
tm_fill('cases', title='Cases', palette=c(RColorBrewer::brewer.pal(10,'Blues')[5:9]),
breaks=c(0,50,100,200,500,1000,5000,10000,100000),
popup.vars=c('cases', 'cured'='cum_heal', 'fatalities'='cum_dead', 'median age'='median_age', 'population'='pop_char'))
tmap_leaflet(
tm_shape(world) +
tm_layout(title='Understand the World') +
tm_borders(alpha=0.3) +
tm_fill('cases', title='Cases', palette=c(RColorBrewer::brewer.pal(10,'Blues')[5:9]),
breaks=c(0,50,100,200,500,1000,5000,10000,100000),
popup.vars=c('cases', 'cured'='cum_heal', 'fatalities'='cum_dead', 'median age'='median_age', 'population'='pop_char'))
)
tmap_leaflet(
tm_shape(world) +
tm_layout(title='Understand the World') +
tm_borders(alpha=0.3) +
tm_fill('cases', title='Cases', palette=c(RColorBrewer::brewer.pal(9,'Blues')[5:9]),
breaks=c(0,50,100,200,500,1000,5000,10000,100000),
popup.vars=c('cases', 'cured'='cum_heal', 'fatalities'='cum_dead', 'median age'='median_age', 'population'='pop_char'))
)
get_data()
world
tmap_leaflet(
tm_shape(world) +
tm_layout(title='Understand the World') +
tm_borders(alpha=0.3) +
tm_fill('cases', title='Cases', palette=c(RColorBrewer::brewer.pal(9,'Blues')[5:9]),
breaks=c(0,50,100,200,500,1000,5000,10000,100000),
popup.vars=c('cases', 'cured'='cum_heal', 'fatalities'='cum_dead', 'median age'='median_age', 'population'='pop_char'))
)
names(world)
data("World")
case_data <- n_cases$global %>% group_by(country) %>%
summarise(cases=max(cum_confirm),
cum_heal=max(cum_heal),
cum_dead=max(cum_dead)) %>%
mutate(name=factor(country))
case_data
world <- merge(World, case_data, by='name')
world
world <<- merge(world, med_age, by='name')
world
names(world)
world <<- merge(world, global_population, by='name', all.x=TRUE)
names(world)
get_data <- function() {
# run to fetch & clean all the data
# ______________________________ South African Data ______________________________
# provincial data
province <- c('Western Cape','Eastern Cape','Northern Cape', 'Free State', 'KwaZulu-Natal', 'North West',
'Gauteng', 'Mpumalanga', 'Limpopo')
population <- c(6621103, 6522734, 1225555, 2954348, 11384722, 3978955, 14717040, 4523874, 5797275)
population_2 <- paste(round(population/1000000, 2), 'm', sep='')
density <- c(51.1, 38.6, 3.3, 22.8, 120.7, 37.9, 809.6, 59.1, 46.1)
provincial.data <- data.frame(province, population, population_2, density, stringsAsFactors=FALSE)
# --- Add later ---               # Gender & Age demographics
Age <- c('0-9', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80+')
Male <- c('5 292 766','4 842 847','5 237 328','3 754 553','2 598 068','1 823 299','1 013 912','458 781','176 237')
Female <- c('5 212 437', '4 755 516', '5 196 531', '2 751 224', '2 970 834', '2 192 398', '1 329 660', '770 816', '402 352')
total <- c('10 505 203','9 598 363','10 433 859','6 505 777','5 568 902','4 015 697','2 343 572','1 229 597','419 989' )
age.data <- data.frame(Age, Male, Female,total, stringsAsFactors=FALSE)
# --- Add later ---
# Get South African Covid Data
covid_sa_url <- 'https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_South_Africa'
covid_sa <<- read_html(covid_sa_url) %>% html_node(xpath='//*[@id="mw-content-text"]/div/table[3]') %>% html_table(fill=T)
# geospatial data
south_africa <<- readShapeSpatial('data/gadm36_ZAF_shp/gadm36_ZAF_1.shp')
south_africa <<- rgdal::readOGR('data/gadm36_ZAF_shp/gadm36_ZAF_1.shp')
# ______________________________ South African Data ______________________________
# _________________________________ Concatenate Data _________________________________
# Extract number of cases
test <- t(covid_sa[covid_sa$Day=='Cases',3:11])
test <- data.frame(test[1:nrow(test),])
colnames(test) <- 'Cases'
test$Cases <- as.numeric(as.character(test$Cases))
# add to dataframe
south_africa@data <<- cbind(test, south_africa@data)
# province data
south_africa@data <<- merge(south_africa@data, provincial.data, by.x='NAME_1', by.y='province')
# _________________________________ Concatenate Data _________________________________
# _________________________________ Global Data _________________________________
# global case data
n_cases <<- load_nCov2019(lang='en')
# median population data
med_age <<- read.csv('data/median-age.csv')
# clean
med_age <<- group_by(med_age, Entity) %>% filter(Year==2020) %>%
transmute(name=factor(Entity),
code=Code,
country=Entity,
median_age=UN.Population.Division..Median.Age...2017...years.)
# Global Population Data
global_population <<- read.csv('./data/global_population.csv')
# _________________________________ Global Data _________________________________
# _________________________________ World Map Data _________________________________
data("World")
# clean case data
case_data <- n_cases$global %>% group_by(country) %>%
summarise(cases=max(cum_confirm),
cum_heal=max(cum_heal),
cum_dead=max(cum_dead)) %>%
mutate(name=factor(country))
world <- merge(World, case_data, by='name')                            # merge case data
world <<- merge(world, med_age, by='name')                             # merge median age data
world <<- merge(world, global_population, by='name', all.x=TRUE)       # add global population data
}
get_data()
tmap_leaflet(
tm_shape(world) +
tm_layout(title='Understand the World') +
tm_borders(alpha=0.3) +
tm_fill('cases', title='Cases', palette=c(RColorBrewer::brewer.pal(9,'Blues')[5:9]),
breaks=c(0,50,100,200,500,1000,5000,10000,100000),
popup.vars=c('cases', 'cured'='cum_heal', 'fatalities'='cum_dead', 'median age'='median_age', 'population'='pop_char'))
)
world
names(world)
med_age
# ___________________________________ Install Dependencies & Curate Data ___________________________________
configure_workspace <- function() {
# Dependencies
# remotes::install_github("GuangchuangYu/nCov2019")
library(flexdashboard)
#library(shiny)
library(tidyverse)
library(coronavirus)
library(sf)
library(raster)
library(htmltab)
library(tmap)
library(leaflet)
library(ggplot2)
library(maptools)
library(rvest)
library(RColorBrewer)
library(htmlwidgets)
library(ggrepel)
library(nCov2019)
library(chinamap)
library(plotly)
library(tidyr)
library(ggrepel)
library(rgdal)
setwd("~/Desktop/covid19")
}
get_data <- function() {
# run to fetch & clean all the data
# ______________________________ South African Data ______________________________
# provincial data
province <- c('Western Cape','Eastern Cape','Northern Cape', 'Free State', 'KwaZulu-Natal', 'North West',
'Gauteng', 'Mpumalanga', 'Limpopo')
population <- c(6621103, 6522734, 1225555, 2954348, 11384722, 3978955, 14717040, 4523874, 5797275)
population_2 <- paste(round(population/1000000, 2), 'm', sep='')
density <- c(51.1, 38.6, 3.3, 22.8, 120.7, 37.9, 809.6, 59.1, 46.1)
provincial.data <- data.frame(province, population, population_2, density, stringsAsFactors=FALSE)
# --- Add later ---               # Gender & Age demographics
Age <- c('0-9', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80+')
Male <- c('5 292 766','4 842 847','5 237 328','3 754 553','2 598 068','1 823 299','1 013 912','458 781','176 237')
Female <- c('5 212 437', '4 755 516', '5 196 531', '2 751 224', '2 970 834', '2 192 398', '1 329 660', '770 816', '402 352')
total <- c('10 505 203','9 598 363','10 433 859','6 505 777','5 568 902','4 015 697','2 343 572','1 229 597','419 989' )
age.data <- data.frame(Age, Male, Female,total, stringsAsFactors=FALSE)
# --- Add later ---
# Get South African Covid Data
covid_sa_url <- 'https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_South_Africa'
covid_sa <<- read_html(covid_sa_url) %>% html_node(xpath='//*[@id="mw-content-text"]/div/table[3]') %>% html_table(fill=T)
# geospatial data
south_africa <<- readShapeSpatial('data/gadm36_ZAF_shp/gadm36_ZAF_1.shp')
south_africa <<- rgdal::readOGR('data/gadm36_ZAF_shp/gadm36_ZAF_1.shp')
# ______________________________ South African Data ______________________________
# _________________________________ Concatenate Data _________________________________
# Extract number of cases
test <- t(covid_sa[covid_sa$Day=='Cases',3:11])
test <- data.frame(test[1:nrow(test),])
colnames(test) <- 'Cases'
test$Cases <- as.numeric(as.character(test$Cases))
# add to dataframe
south_africa@data <<- cbind(test, south_africa@data)
# province data
south_africa@data <<- merge(south_africa@data, provincial.data, by.x='NAME_1', by.y='province')
# _________________________________ Concatenate Data _________________________________
# _________________________________ Global Data _________________________________
# global case data
n_cases <<- load_nCov2019(lang='en')
# median population data
med_age <<- read.csv('data/median-age.csv')
# clean
med_age <<- group_by(med_age, Entity) %>% filter(Year==2020) %>%
transmute(name=factor(Entity),
code=Code,
country=Entity,
median_age=UN.Population.Division..Median.Age...2017...years.)
# Global Population Data
global_population <<- read.csv('./data/global_population.csv')
# _________________________________ Global Data _________________________________
# _________________________________ World Map Data _________________________________
data("World")
# clean case data
case_data <- n_cases$global %>% group_by(country) %>%
summarise(cases=max(cum_confirm),
cum_heal=max(cum_heal),
cum_dead=max(cum_dead)) %>%
mutate(name=factor(country))
world <<- merge(World, case_data, by='name')                           # merge case data
world <<- merge(world, med_age, by='name')                             # merge median age data
world <<- merge(world, global_population, by='name', all.x=TRUE)       # add global population data
}
# ___________________________________ Install Dependencies & Curate Data ___________________________________
configure_workspace <- function() {
# Dependencies
# remotes::install_github("GuangchuangYu/nCov2019")
library(flexdashboard)
#library(shiny)
library(tidyverse)
library(coronavirus)
library(sf)
library(raster)
library(htmltab)
library(tmap)
library(leaflet)
library(ggplot2)
library(maptools)
library(rvest)
library(RColorBrewer)
library(htmlwidgets)
library(ggrepel)
library(nCov2019)
library(chinamap)
library(plotly)
library(tidyr)
library(ggrepel)
library(rgdal)
setwd("~/Desktop/covid19")
}
get_data <- function() {
# run to fetch & clean all the data
# ______________________________ South African Data ______________________________
# provincial data
province <- c('Western Cape','Eastern Cape','Northern Cape', 'Free State', 'KwaZulu-Natal', 'North West',
'Gauteng', 'Mpumalanga', 'Limpopo')
population <- c(6621103, 6522734, 1225555, 2954348, 11384722, 3978955, 14717040, 4523874, 5797275)
population_2 <- paste(round(population/1000000, 2), 'm', sep='')
density <- c(51.1, 38.6, 3.3, 22.8, 120.7, 37.9, 809.6, 59.1, 46.1)
provincial.data <- data.frame(province, population, population_2, density, stringsAsFactors=FALSE)
# --- Add later ---               # Gender & Age demographics
Age <- c('0-9', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80+')
Male <- c('5 292 766','4 842 847','5 237 328','3 754 553','2 598 068','1 823 299','1 013 912','458 781','176 237')
Female <- c('5 212 437', '4 755 516', '5 196 531', '2 751 224', '2 970 834', '2 192 398', '1 329 660', '770 816', '402 352')
total <- c('10 505 203','9 598 363','10 433 859','6 505 777','5 568 902','4 015 697','2 343 572','1 229 597','419 989' )
age.data <- data.frame(Age, Male, Female,total, stringsAsFactors=FALSE)
# --- Add later ---
# Get South African Covid Data
covid_sa_url <- 'https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_South_Africa'
covid_sa <<- read_html(covid_sa_url) %>% html_node(xpath='//*[@id="mw-content-text"]/div/table[3]') %>% html_table(fill=T)
# geospatial data
south_africa <<- readShapeSpatial('data/gadm36_ZAF_shp/gadm36_ZAF_1.shp')
south_africa <<- rgdal::readOGR('data/gadm36_ZAF_shp/gadm36_ZAF_1.shp')
# ______________________________ South African Data ______________________________
# _________________________________ Concatenate Data _________________________________
# Extract number of cases
test <- t(covid_sa[covid_sa$Day=='Cases',3:11])
test <- data.frame(test[1:nrow(test),])
colnames(test) <- 'Cases'
test$Cases <- as.numeric(as.character(test$Cases))
# add to dataframe
south_africa@data <<- cbind(test, south_africa@data)
# province data
south_africa@data <<- merge(south_africa@data, provincial.data, by.x='NAME_1', by.y='province')
# _________________________________ Concatenate Data _________________________________
# _________________________________ Global Data _________________________________
# global case data
n_cases <<- load_nCov2019(lang='en')
# median population data
med_age <<- read.csv('data/median-age.csv')
# clean
med_age <<- group_by(med_age, Entity) %>% filter(Year==2020) %>%
transmute(name=factor(Entity),
code=Code,
country=Entity,
median_age=UN.Population.Division..Median.Age...2017...years.)
# Global Population Data
global_population <<- read.csv('./data/global_population.csv')
# _________________________________ Global Data _________________________________
# _________________________________ World Map Data _________________________________
data("World")
# clean case data
case_data <- n_cases$global %>% group_by(country) %>%
summarise(cases=max(cum_confirm),
cum_heal=max(cum_heal),
cum_dead=max(cum_dead)) %>%
mutate(name=factor(country))
world <<- merge(World, case_data, by='name')                           # merge case data
world <<- merge(world, med_age, by='name')                             # merge median age data
world <<- merge(world, global_population, by='name', all.x=TRUE)       # add global population data
}
get_data()
View(world)
tmap_leaflet(
tm_shape(south_africa) +
tm_layout(title='Confirmed Cases in SA') +
tm_borders(alpha=0.3) +
tm_fill('Cases', title='Confirmed Cases', palette=c(RColorBrewer::brewer.pal(10, 'OrRd')[3:7]),
breaks=c(0,10,20,50,100,200),
popup.vars=c('cases'="Cases", "population_2", 'pop density'="density")))
tmap_leaflet(
tm_shape(world) +
tm_layout(title='Understand the World') +
tm_borders(alpha=0.3) +
tm_fill('cases', title='Cases', palette=c(RColorBrewer::brewer.pal(9,'Blues')[5:9]),
breaks=c(0,50,100,200,500,1000,5000,10000,100000),
popup.vars=c('cases', 'cured'='cum_heal', 'fatalities'='cum_dead', 'median age'='median_age', 'population'='pop_char'))
)
read_csv('data/country_names.csv')$x
n_cases
get_data <- function() {
# run to fetch & clean all the data
# ______________________________ South African Data ______________________________
# provincial data
province <- c('Western Cape','Eastern Cape','Northern Cape', 'Free State', 'KwaZulu-Natal', 'North West',
'Gauteng', 'Mpumalanga', 'Limpopo')
population <- c(6621103, 6522734, 1225555, 2954348, 11384722, 3978955, 14717040, 4523874, 5797275)
population_2 <- paste(round(population/1000000, 2), 'm', sep='')
density <- c(51.1, 38.6, 3.3, 22.8, 120.7, 37.9, 809.6, 59.1, 46.1)
provincial.data <- data.frame(province, population, population_2, density, stringsAsFactors=FALSE)
# --- Add later ---               # Gender & Age demographics
Age <- c('0-9', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80+')
Male <- c('5 292 766','4 842 847','5 237 328','3 754 553','2 598 068','1 823 299','1 013 912','458 781','176 237')
Female <- c('5 212 437', '4 755 516', '5 196 531', '2 751 224', '2 970 834', '2 192 398', '1 329 660', '770 816', '402 352')
total <- c('10 505 203','9 598 363','10 433 859','6 505 777','5 568 902','4 015 697','2 343 572','1 229 597','419 989' )
age.data <- data.frame(Age, Male, Female,total, stringsAsFactors=FALSE)
# --- Add later ---
# Get South African Covid Data
covid_sa_url <- 'https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_South_Africa'
covid_sa <<- read_html(covid_sa_url) %>% html_node(xpath='//*[@id="mw-content-text"]/div/table[3]') %>% html_table(fill=T)
# geospatial data
south_africa <<- readShapeSpatial('data/gadm36_ZAF_shp/gadm36_ZAF_1.shp')
south_africa <<- rgdal::readOGR('data/gadm36_ZAF_shp/gadm36_ZAF_1.shp')
# ______________________________ South African Data ______________________________
# _________________________________ Concatenate Data _________________________________
# Extract number of cases
test <- t(covid_sa[covid_sa$Day=='Cases',3:11])
test <- data.frame(test[1:nrow(test),])
colnames(test) <- 'Cases'
test$Cases <- as.numeric(as.character(test$Cases))
# add to dataframe
south_africa@data <<- cbind(test, south_africa@data)
# province data
south_africa@data <<- merge(south_africa@data, provincial.data, by.x='NAME_1', by.y='province')
# _________________________________ Concatenate Data _________________________________
# _________________________________ Global Data _________________________________
# global case data
n_cases <<- load_nCov2019(lang='en')
# median population data
med_age <<- read.csv('data/median-age.csv')
# clean
med_age <<- group_by(med_age, Entity) %>% filter(Year==2020) %>%
transmute(name=factor(Entity),
code=Code,
country=Entity,
median_age=UN.Population.Division..Median.Age...2017...years.)
# Global Population Data
global_population <<- read.csv('./data/global_population.csv')
# _________________________________ Global Data _________________________________
# _________________________________ World Map Data _________________________________
data("World")
# clean case data
case_data <- n_cases$global %>% group_by(country) %>%
summarise(cases=max(cum_confirm),
cum_heal=max(cum_heal),
cum_dead=max(cum_dead)) %>%
mutate(name=factor(country))
world <<- merge(World, case_data, by='name')                           # merge case data
world <<- merge(world, med_age, by='name')                             # merge median age data
world <<- merge(world, global_population, by='name', all.x=TRUE)       # add global population data
}
get_data()
configure_workspace()
colour_cases <- '#1f77b4'
colour_active <- 'lightblue'
colour_recovered <- 'darkgreen'
colour_dead <- 'darkred'
# no. confirmed
c <- as.numeric(covid_sa$Confirmed)
c[is.na(c)] <- 0
c <- sum(c)
# no. deaths
d <- as.numeric(covid_sa$Deaths)
d[is.na(d)] <- 0
d <- sum(d)
valueBox(value = paste(format(c, big.mark = ","), "", sep = " "),
caption = "Total Confirmed Cases",
icon = "fas fa-user-md",
color = colour_cases)
valueBox(value = paste(format((c-d-r), big.mark = ","), "", sep = " "),
caption = "Active",
icon = "fas fa-ambulance",
color = colour_active)
